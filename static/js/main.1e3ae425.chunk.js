(this["webpackJsonpblobs-no-3"]=this["webpackJsonpblobs-no-3"]||[]).push([[0],{16:function(e,t,s){},32:function(e,t,s){"use strict";s.r(t);var i=s(1),a=s.n(i),n=s(10),o=s.n(n),r=(s(16),s(3));window.p5=r;s(21);var d=s(11),h=s(0);function l(){return Object(h.jsxs)("svg",{id:"play-icon",className:"fade-out",xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24",children:[Object(h.jsx)("path",{d:"M0 0h24v24H0z",fill:"none"}),Object(h.jsx)("path",{d:"M10 16.5l6-4.5-6-4.5v9zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"})]})}var c=s(2),u=s.n(c);class p{constructor(e,t,s){this.parseSVGPath=e=>{let t=e.match(/[a-df-z][^a-df-z]*/gi),s=[];for(let i of t){let e=i.charAt(0),t=i.slice(1).split(/[\s,]+/).map(Number);s.push([e,...t])}return s},this.p=e,this.x=t,this.y=s,this.speed=8,this.size=e.width/8,this.growth=parseInt(e.random(3,9)),this.edges=parseInt(e.random(16,32)),this.seed=e.random(1,100),this.fillHue=e.random(0,360),this.strokeHue=e.random(0,360),this.time=0,this.timeSpeed=.05,this.whiteStroke=Math.random()<.5;const{path:i}=u()({size:this.size,growth:this.growth,edges:this.edges,seed:this.seed});this.pathArray=this.parseSVGPath(i)}update(){this.time+=this.timeSpeed,this.size+=this.speed;const{path:e}=u()({size:this.size,growth:this.growth,edges:this.edges,seed:this.seed});this.pathArray=this.parseSVGPath(e)}perturbVertex(e,t,s){return[e+10*Math.sin(this.time+s),t+10*Math.cos(this.time+s)]}draw(){const e=this.x-this.size/2,t=this.y-this.size/2;this.p.push(),this.p.translate(e,t),this.p.fill(this.fillHue,100,100,.33),this.whiteStroke?this.p.stroke(this.strokeHue,0,100,1):this.p.stroke(this.strokeHue,100,100,.66),this.p.beginShape();for(let s=0;s<this.pathArray.length;s++){let e=this.pathArray[s],t=e[0],i=e.slice(1);if((s<2||s>this.pathArray.length-3)&&"M"===t)this.p.vertex(i[0],i[1]);else if((s<2||s>this.pathArray.length-3)&&"Q"===t)this.p.quadraticVertex(i[0],i[1],i[2],i[3]);else if("M"===t){let[e,t]=this.perturbVertex(i[0],i[1],s);this.p.vertex(e,t)}else if("Q"===t){let[e,t]=this.perturbVertex(i[0],i[1],s),[a,n]=this.perturbVertex(i[2],i[3],s+1);this.p.quadraticVertex(e,t,a,n)}}this.p.endShape(this.p.CLOSE),this.p.translate(-e,-t),this.p.pop()}}function g(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100,a=[],n=0;for(;n<3;){const o=e.color(t,s,i,1);a.push(o),t=t+120<360?t+120:t-240,n++}return a}var m=s.p+"static/media/blobs-no-3.c9fce845.ogg",w=s.p+"static/media/blobs-no-3.549892b8.mid";var b=()=>{const e=Object(i.useRef)(),t=e=>{e.canvas=null,e.canvasWidth=window.innerWidth,e.canvasHeight=window.innerHeight,e.audioLoaded=!1,e.player=null,e.PPQ=15360,e.loadMidi=()=>{d.Midi.fromUrl(w).then((function(t){console.log(t);const s=t.tracks[19].notes;e.scheduleCueSet(s,"executeCueSet1");const i=t.tracks[21].notes;e.scheduleCueSet(i,"executeCueSet2"),e.audioLoaded=!0,document.getElementById("loader").classList.add("loading--complete"),document.getElementById("play-icon").classList.remove("fade-out")}))},e.preload=()=>{e.song=e.loadSound(m,e.loadMidi),e.song.onended(e.logCredits)},e.scheduleCueSet=function(t,s){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=-1,n=1;for(let o=0;o<t.length;o++){const r=t[o],{ticks:d,time:h}=r;(d!==a||i)&&(r.currentCue=n,e.song.addCue(h,e[s],r),a=d,n++)}},e.animatedBlobs=[],e.blobsArray=[],e.setup=()=>{e.canvas=e.createCanvas(e.canvasWidth,e.canvasHeight),e.colorMode(e.HSB),e.background(0,0,0)},e.draw=()=>{if(e.audioLoaded&&e.song.isPlaying()){e.background(0,0,0),e.strokeWeight(4);for(let t=0;t<e.animatedBlobs.length;t++){const s=e.animatedBlobs[t];s.draw(),s.update()}e.strokeWeight(2);for(let t=0;t<e.blobsArray.length;t++){const s=e.blobsArray[t],{x:i,y:a,growth:n,edges:o,colourSet:r,divisor:d,seed:h,whiteStroke:l}=s;e.drawBlob(i,a,e.width/(.9*d),n,o,r[0],h,l),e.drawBlob(i,a,e.width/(1.2*d),n,o,r[1],h,!1),e.drawBlob(i,a,e.width/(1.5*d),n,o,r[2],h,l)}}},e.drawBlob=(t,s,i,a,n,o,r,d)=>{const{path:h}=u()({size:i,growth:a,edges:n,seed:r}),l=e.parseSVGPath(h);e.translate(t-i/2,s-i/2),e.fill(o._getHue(),100,100,.5),e.stroke(o._getHue(),d?0:100,100,1),e.beginShape();for(let c of l){let t=c[0],s=c.slice(1);"M"===t?e.vertex(s[0],s[1]):"Q"===t&&e.quadraticVertex(s[0],s[1],s[2],s[3])}e.endShape(e.CLOSE),e.translate(i/2-t,i/2-s)},e.parseSVGPath=e=>{let t=e.match(/[a-df-z][^a-df-z]*/gi),s=[];for(let i of t){let e=i.charAt(0),t=i.slice(1).split(/[\s,]+/).map(Number);s.push([e,...t])}return s},e.sizes=[8,12,16,24,32],e.maxEdges=16,e.executeCueSet1=t=>{let{currentCue:s}=t;37===s&&(e.blobsArray=[],e.sizes=[8,12,16],e.maxEdges=32);let i=0;let a=!0;for(;a&&i<100;){const t=e.random(e.sizes),n=e.random(0,360),o={x:e.random(0,e.width),y:e.random(0,e.height),radius:e.width/(.9*t)/2,growth:parseInt(e.random(3,9)),edges:parseInt(e.random(8,e.maxEdges)),colourSet:g(e,n),divisor:t,seed:e.random(1,10),whiteStroke:[9,10,11,0].includes(s%12)};a=!1;for(let s=0;s<e.blobsArray.length;s++){const t=e.blobsArray[s];if(e.dist(o.x,o.y,t.x,t.y)<o.radius+t.radius){a=!0;break}}i++,a||e.blobsArray.push(o)}i>=100&&console.log("Max attempts reached. Could not place the circle without overlap.")},e.executeCueSet2=t=>{let{currentCue:s}=t;s%12===1&&(e.animatedBlobs=[]);const i=e.random(0,e.width),a=e.random(0,e.height);e.animatedBlobs.push(new p(e,i,a))},e.hasStarted=!1,e.mousePressed=()=>{e.audioLoaded&&(e.song.isPlaying()?e.song.pause():(parseInt(e.song.currentTime())>=parseInt(e.song.buffer.duration)&&(e.reset(),"undefined"!==typeof window.dataLayer&&window.dataLayer.push({event:"play-animation",animation:{title:document.title,location:window.location.href,action:"replaying"}})),document.getElementById("play-icon").classList.add("fade-out"),e.canvas.addClass("fade-in"),e.song.play(),"undefined"===typeof window.dataLayer||e.hasStarted||(window.dataLayer.push({event:"play-animation",animation:{title:document.title,location:window.location.href,action:"start playing"}}),e.hasStarted=!1)))},e.creditsLogged=!1,e.logCredits=()=>{!e.creditsLogged&&parseInt(e.song.currentTime())>=parseInt(e.song.buffer.duration)&&(e.creditsLogged=!0,console.log("Music By: http://labcat.nz/","\n","Animation By: https://github.com/LABCAT/"),e.song.stop())},e.reset=()=>{},e.updateCanvasDimensions=()=>{e.canvasWidth=window.innerWidth,e.canvasHeight=window.innerHeight,e.canvas=e.resizeCanvas(e.canvasWidth,e.canvasHeight)},window.attachEvent?window.attachEvent("onresize",(function(){e.updateCanvasDimensions()})):window.addEventListener&&window.addEventListener("resize",(function(){e.updateCanvasDimensions()}),!0)};return Object(i.useEffect)((()=>{new r(t,e.current)}),[]),Object(h.jsx)("div",{ref:e,children:Object(h.jsx)(l,{})})};var f=function(){return Object(h.jsx)(b,{})};o.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(f,{})}),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.1e3ae425.chunk.js.map